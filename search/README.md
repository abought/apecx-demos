# Introduction to Globus Search

## What is Globus Search?
Globus Search provides a unified way to search for documents and other data no matter where items are stored. It makes it easier to find datasets generated by large collaborative projects. Thanks to integration with Globus Auth, queries can be performed using a mix of public, private, and group-based access controls.

Search indices can contain any kind of data you want. Although files may seem like an obvious use case for users familiar with Globus Transfer, you can just as easily search using powerful [filters](https://docs.globus.org/api/search/reference/post_query/#gfilter) across document full text, metadata, and date or geography ranges.

The internal technology is an extension of industry-standard ElasticSearch, and the Globus Platform-as-a-service manages all the infrastructure needed. The reliance on open standards means that users can build search directly into a web application, or go deeper and construct their own custom queries via the provided command line interface (CLI) or SDK integrations. We allow tech-savvy researchers to go beyond pre-made solutions and push the boundaries of discovery.


## Demonstration
This project includes a demonstration of various Globus Search features, as well as integration with other Globus Services like file access and permissions controls. A companion website allows users to see how these features work together to build powerful web applications.

[View the demo](https://abought.github.io/apecx-demo-static-search-portal/search)

### Instructions
Runnable tutorial instructions are [provided](INSTRUCTIONS.md) alongside this tutorial, which will allow you to create your own search index. You can copy and extend all aspects for your own needs!

### Goals
* Keyword search in UI 
  * In this demo, the search box is a general keywords search across any field in the document
  * Notice how it updates results as you type. Many queries can be run very quickly! We've put a lot of thought into performance to handle big scientific datasets
  * This runs on the Globus Platform, which means that no setup is required, and the data can persist even after the APECx project ends.
* Automatically discover unique groups ("facets"): data type, search by pathogen or molecular target, etc
  * Example filters: date, keywords, gene, pathogen, etc
* Capabilities to preview, embed, and download data. Globus provides a set of features that can work together to build interesting apps. What we are showing today is that the search index is the first step in a longer discussion, with concrete benefits to present data in a useful and compelling way.
  * Video: Lookit developmental psychology platform
  * Image: FANG vehicle engineering diagram
  * Plotly: Yang G protein paper
* Switch to CLI and demonstrate advanced custom queries(see instructions)
  * Emphasize that the CLI will act as a way for people to use search, even before UI is written: we can prototype and explore the data for early feedback
  * Users can write their own queries, even beyond what the webapp implements... and it will follow exactly the same auth and permissions rules no matter what route they take to access the data
  * Other actions (such as running workflows)
* If time permits, add an example notebook showing SDK used to fetch pages of results (CLI doesn't expose offset parameter for pagination)

## Audience Questions
Feedback will help us decide which use cases to explore and build prototypes for.

* What kinds of data would you expect to search?
  * Articles (free-text or facet search)
  * Software (AI/ML models, etc)
  * Biological datasets (like molecular structures)
* What would help people to make decisions about which search results to look at?
  * Display of results
  * Rendering preview of select asset types (graph, table, PDB viewer, etc)
  * Focus on common data types first: MU deliverables etc



## References
* [Introduction](https://docs.globus.org/) to Globus Platform-as-a-Service (PaaS)
* Globus Search: [Overview](https://docs.globus.org/api/search/)
* There are many ways to interact with a search index
  * Via [command line](https://docs.globus.org/cli/reference/#globus_search_commands) (CLI)
  * Via [SDK](https://globus-sdk-python.readthedocs.io/en/stable/services/search.html)
* Advanced capabilities
  * [Role-based filtering](https://docs.globus.org/api/search/guides/role_filtering/) controls who can see sensitive data
  * [Facets](https://docs.globus.org/api/search/reference/post_query/#gfacet)
  * [Filters](https://docs.globus.org/api/search/reference/post_query/#gfilter)
  * Customize search results by [boosting](https://docs.globus.org/api/search/reference/post_query/#gboost) certain fields
  * [Sorting](https://docs.globus.org/api/search/reference/post_query/#gsort)
